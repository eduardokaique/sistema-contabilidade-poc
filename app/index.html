<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Contabilidade - Cont√°bilPro</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1000;
            overflow: visible;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .header-nav {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 1.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .login-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .login-btn:hover {
            background: linear-gradient(45deg, #218838, #17a2b8);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .logout-btn {
            background: linear-gradient(45deg, #dc3545, #c82333);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .logout-btn:hover {
            background: linear-gradient(45deg, #c82333, #a71e2a);
            transform: translateY(-2px);
        }

        /* Company Selector */
        .company-selector {
            position: relative;
            margin-right: 15px;
        }

        .company-selector-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 8px;
            max-width: 200px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .company-selector-btn:hover {
            background: linear-gradient(45deg, #2980b9, #1f4e79);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .company-selector-btn::after {
            content: '‚ñº';
            font-size: 0.7rem;
            margin-left: auto;
            transition: transform 0.3s ease;
        }

        .company-selector.active .company-selector-btn::after {
            transform: rotate(180deg);
        }

        .company-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            max-height: 300px;
            overflow-y: auto;
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
        }

        .company-selector.active .company-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .company-dropdown-item {
            display: block;
            width: 100%;
            padding: 12px 15px;
            border: none;
            background: none;
            text-align: left;
            cursor: pointer;
            transition: background 0.2s ease;
            border-bottom: 1px solid #f0f0f0;
            font-size: 0.9rem;
        }

        .company-dropdown-item:last-child {
            border-bottom: none;
        }

        .company-dropdown-item:hover {
            background: #f8f9fa;
        }

        .company-dropdown-item.active {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
        }

        .company-info {
            display: block;
        }

        .company-name {
            font-weight: 600;
            display: block;
        }

        .company-cnpj {
            font-size: 0.75rem;
            color: #666;
            margin-top: 2px;
        }

        .company-dropdown-item.active .company-cnpj {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Navigation Menu */
        .nav-menu {
            display: flex;
            gap: 2px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .nav-item {
            background: linear-gradient(45deg, #6c7ae0, #5a67d8);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .nav-item:hover {
            background: linear-gradient(45deg, #5a67d8, #4c51bf);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .nav-item.active {
            background: linear-gradient(45deg, #28a745, #20c997);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        /* Dropdown Styles */
        .nav-dropdown {
            position: relative;
        }

        .nav-dropdown .nav-item {
            cursor: pointer;
        }

        .nav-dropdown .nav-item.dropdown-toggle::after {
            content: '‚ñº';
            font-size: 0.7rem;
            margin-left: 8px;
            transition: transform 0.3s ease;
        }

        .nav-dropdown:hover .nav-item.dropdown-toggle::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            min-width: 220px;
            max-width: 300px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 9999;
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-height: 400px;
            overflow-y: auto;
        }

        .nav-dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            padding: 12px 20px;
            color: #2c3e50;
            text-decoration: none;
            transition: all 0.3s ease;
            border-radius: 8px;
            margin: 5px;
            font-weight: 500;
            font-size: 0.9rem;
            cursor: pointer;
            border: none;
            background: none;
            width: calc(100% - 10px);
            text-align: left;
        }

        .dropdown-item:hover {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateX(5px);
        }

        .dropdown-item.active {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
        }

        .module-icon {
            font-size: 1rem;
            margin-right: 8px;
        }

        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            background: linear-gradient(45deg, #6c7ae0, #5a67d8);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(255, 255, 255, 0.98);
                border-radius: 0 0 15px 15px;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
                padding: 15px;
                gap: 10px;
            }

            .nav-menu.active {
                display: flex;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .nav-item {
                width: 100%;
                justify-content: center;
            }

            .nav-dropdown {
                width: 100%;
            }

            .dropdown-menu {
                position: static;
                opacity: 1;
                visibility: visible;
                transform: none;
                box-shadow: none;
                background: rgba(245, 245, 245, 0.95);
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease;
            }

            .nav-dropdown:hover .dropdown-menu {
                max-height: 300px;
            }

            .dropdown-item {
                margin: 2px 5px;
                padding: 10px 15px;
            }

            .header-top {
                flex-direction: column;
                gap: 15px;
            }

            .header-actions {
                width: 100%;
                justify-content: space-between;
            }

            .company-selector {
                margin-right: 0;
                flex: 1;
            }

            .company-selector-btn {
                max-width: none;
                width: 100%;
                justify-content: space-between;
            }
        }

        /* Content Areas */
        .content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            color: #2c3e50;
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-subtitle {
            color: #6c757d;
            font-size: 1rem;
            margin-bottom: 30px;
        }

        /* Dashboard Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(30%, -30%);
        }

        .dashboard-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .dashboard-card .value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
            position: relative;
            z-index: 1;
        }

        .dashboard-card .label {
            font-size: 0.9rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        /* Charts Container */
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .chart-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #e0e6ed;
        }

        .chart-card h4 {
            color: #2c3e50;
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chart-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-size: 1.1rem;
            border: 2px dashed #dee2e6;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.08);
        }

        .data-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.9rem;
        }

        .data-table tbody tr:hover {
            background: #f8f9fa;
        }

        .data-table tbody tr:last-child td {
            border-bottom: none;
        }

        /* Forms */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            color: #2c3e50;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .form-control {
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            background: linear-gradient(45deg, #218838, #17a2b8);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #6c757d, #5a6268);
        }

        .btn-secondary:hover {
            background: linear-gradient(45deg, #5a6268, #454a50);
        }

        .btn-danger {
            background: linear-gradient(45deg, #dc3545, #c82333);
        }

        .btn-danger:hover {
            background: linear-gradient(45deg, #c82333, #a71e2a);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* Login Modal */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .login-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .login-modal-content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 400px;
            text-align: center;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .login-modal.active .login-modal-content {
            transform: scale(1);
        }

        .login-modal h2 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 1.8rem;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .login-form .form-control {
            text-align: left;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6c757d;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: #dc3545;
        }

        /* Hide sections initially */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* User info */
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #2c3e50;
            font-weight: 600;
        }

        /* Progress indicators */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Responsive adjustments */
        @media (max-width: 1024px) {
            .charts-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .content {
                padding: 20px;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Status indicators */
        .status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status.active {
            background: #d4edda;
            color: #155724;
        }

        .status.inactive {
            background: #f8d7da;
            color: #721c24;
        }

        .status.pending {
            background: #fff3cd;
            color: #856404;
        }

        /* Loading states */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #6c757d;
        }

        .spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #667eea;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
        <div class="login-modal-content">
            <button class="close-modal" onclick="closeLoginModal()">&times;</button>
            <h2>üè¢ Login Cont√°bilPro</h2>
            <form class="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="username">Usu√°rio</label>
                    <input type="text" id="username" class="form-control" placeholder="Digite seu usu√°rio" required>
                </div>
                <div class="form-group">
                    <label for="password">Senha</label>
                    <input type="password" id="password" class="form-control" placeholder="Digite sua senha" required>
                </div>
                <div style="background: linear-gradient(135deg, #e3f2fd, #f3e5f5); padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #667eea;">
                    <h4 style="margin: 0 0 10px 0; color: #333; font-size: 1rem;">üìã Dados de Demonstra√ß√£o:</h4>
                    <p style="margin: 5px 0; font-size: 0.9rem; color: #555;"><strong>Usu√°rio:</strong> admin | <strong>Senha:</strong> demo123</p>
                    <p style="margin: 5px 0; font-size: 0.9rem; color: #555;"><strong>Usu√°rio:</strong> contador | <strong>Senha:</strong> contabil2024</p>
                </div>
                <button type="submit" class="btn">Entrar</button>
            </form>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-top">
                <h1>üìä Cont√°bilPro</h1>
                
                <div class="header-actions">
                    <div class="user-info" id="userInfo" style="display: none;">
                        üë§ <span id="userName">Usu√°rio</span>
                    </div>
                    
                    <!-- Company Selector -->
                    <div class="company-selector" id="companySelector" style="display: none;">
                        <button class="company-selector-btn" onclick="toggleCompanyDropdown()">
                            <span id="currentCompany">Selecionar Empresa</span>
                        </button>
                        <div class="company-dropdown" id="companyDropdown">
                            <!-- Companies will be populated here -->
                        </div>
                    </div>
                    
                    <button class="login-btn" id="loginBtn" onclick="showLoginModal()">Fazer Login</button>
                    <button class="logout-btn" id="logoutBtn" style="display: none;" onclick="handleLogout()">Logout</button>
                </div>
                
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
            </div>

            <!-- Navigation Menu -->
            <nav class="nav-menu" id="navMenu" style="display: none;">
                <a href="#" class="nav-item active" onclick="showSection('dashboard')">
                    üìä Dashboard
                </a>
                
                <!-- M√≥dulo Cont√°bil -->
                <div class="nav-dropdown">
                    <a href="#" class="nav-item dropdown-toggle">
                        üìö Cont√°bil
                    </a>
                    <div class="dropdown-menu">
                        <button class="dropdown-item" onclick="showSection('lancamentos')">
                            <span class="module-icon">üìù</span> Lan√ßamentos
                        </button>
                        <button class="dropdown-item" onclick="showSection('plano-contas')">
                            <span class="module-icon">üìã</span> Plano de Contas
                        </button>
                        <button class="dropdown-item" onclick="showSection('livro-diario')">
                            <span class="module-icon">üìñ</span> Livro Di√°rio
                        </button>
                        <button class="dropdown-item" onclick="showSection('balancete')">
                            <span class="module-icon">‚öñÔ∏è</span> Balancete
                        </button>
                        <button class="dropdown-item" onclick="showSection('conciliacao')">
                            <span class="module-icon">üè¶</span> Concilia√ß√£o Banc√°ria
                        </button>
                    </div>
                </div>

                <!-- M√≥dulo Fiscal -->
                <div class="nav-dropdown">
                    <a href="#" class="nav-item dropdown-toggle">
                        üèõÔ∏è Fiscal
                    </a>
                    <div class="dropdown-menu">
                        <button class="dropdown-item" onclick="showSection('apuracao-impostos')">
                            <span class="module-icon">üí∞</span> Apura√ß√£o de Impostos
                        </button>
                        <button class="dropdown-item" onclick="showSection('sped-fiscal')">
                            <span class="module-icon">üìÑ</span> SPED Fiscal
                        </button>
                        <button class="dropdown-item" onclick="showSection('sped-contabil')">
                            <span class="module-icon">üìä</span> SPED Cont√°bil
                        </button>
                        <button class="dropdown-item" onclick="showSection('obrigacoes-acessorias')">
                            <span class="module-icon">üìã</span> Obriga√ß√µes Acess√≥rias
                        </button>
                        <button class="dropdown-item" onclick="showSection('dctf')">
                            <span class="module-icon">üßæ</span> DCTF
                        </button>
                    </div>
                </div>

                <!-- RH & Folha -->
                <div class="nav-dropdown">
                    <a href="#" class="nav-item dropdown-toggle">
                        üë• RH & Folha
                    </a>
                    <div class="dropdown-menu">
                        <button class="dropdown-item" onclick="showSection('funcionarios')">
                            <span class="module-icon">üë§</span> Funcion√°rios
                        </button>
                        <button class="dropdown-item" onclick="showSection('folha-pagamento')">
                            <span class="module-icon">üíµ</span> Folha de Pagamento
                        </button>
                        <button class="dropdown-item" onclick="showSection('esocial')">
                            <span class="module-icon">üîó</span> eSocial
                        </button>
                        <button class="dropdown-item" onclick="showSection('ferias-13')">
                            <span class="module-icon">üèñÔ∏è</span> F√©rias e 13¬∫
                        </button>
                        <button class="dropdown-item" onclick="showSection('ponto-frequencia')">
                            <span class="module-icon">‚è∞</span> Ponto e Frequ√™ncia
                        </button>
                    </div>
                </div>

                <!-- Relat√≥rios -->
                <div class="nav-dropdown">
                    <a href="#" class="nav-item dropdown-toggle">
                        üìà Relat√≥rios
                    </a>
                    <div class="dropdown-menu">
                        <button class="dropdown-item" onclick="showSection('dre')">
                            <span class="module-icon">üìä</span> DRE
                        </button>
                        <button class="dropdown-item" onclick="showSection('balanco-patrimonial')">
                            <span class="module-icon">‚öñÔ∏è</span> Balan√ßo Patrimonial
                        </button>
                        <button class="dropdown-item" onclick="showSection('fluxo-caixa')">
                            <span class="module-icon">üíπ</span> Fluxo de Caixa
                        </button>
                        <button class="dropdown-item" onclick="showSection('razao-analitico')">
                            <span class="module-icon">üìã</span> Raz√£o Anal√≠tico
                        </button>
                        <button class="dropdown-item" onclick="showSection('relatorios-customizados')">
                            <span class="module-icon">üé®</span> Relat√≥rios Customizados
                        </button>
                    </div>
                </div>

                <!-- Configura√ß√µes -->
                <div class="nav-dropdown">
                    <a href="#" class="nav-item dropdown-toggle">
                        ‚öôÔ∏è Configura√ß√µes
                    </a>
                    <div class="dropdown-menu">
                        <button class="dropdown-item" onclick="showSection('config-empresa')">
                            <span class="module-icon">üè¢</span> Empresa
                        </button>
                        <button class="dropdown-item" onclick="showSection('config-usuarios')">
                            <span class="module-icon">üë•</span> Usu√°rios
                        </button>
                        <button class="dropdown-item" onclick="showSection('config-sistema')">
                            <span class="module-icon">‚öôÔ∏è</span> Sistema
                        </button>
                        <button class="dropdown-item" onclick="showSection('config-backup')">
                            <span class="module-icon">üíæ</span> Backup & Dados
                        </button>
                        <button class="dropdown-item" onclick="showSection('config-integracao')">
                            <span class="module-icon">üîó</span> Integra√ß√µes
                        </button>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Welcome Section (shown when not logged in) -->
        <div class="content" id="welcomeSection">
            <div class="section-title">
                üéâ Bem-vindo ao Cont√°bilPro
            </div>
            <div class="section-subtitle">
                Sistema completo de contabilidade na nuvem com gest√£o multi-empresas
            </div>
            
            <div style="text-align: center; margin: 30px 0;">
                <button onclick="demoQuickAccess()" class="btn" style="font-size: 1.1rem; padding: 15px 30px; margin-right: 15px;">
                    üöÄ Acesso Demo R√°pido
                </button>
                <button onclick="showLoginModal()" class="btn" style="font-size: 1.1rem; padding: 15px 30px; background: linear-gradient(45deg, #28a745, #20c997);">
                    üîê Login Personalizado
                </button>
            </div>
            
            <div style="background: linear-gradient(135deg, #e3f2fd, #f3e5f5); padding: 20px; border-radius: 12px; margin: 30px auto; max-width: 600px; text-align: center; border-left: 4px solid #667eea;">
                <h4 style="margin: 0 0 15px 0; color: #333; font-size: 1.2rem;">üìã Dados de Demonstra√ß√£o</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: center;">
                    <div style="background: rgba(255,255,255,0.7); padding: 15px; border-radius: 8px;">
                        <p style="margin: 5px 0; font-size: 0.95rem; color: #555;"><strong>üëë Administrador</strong></p>
                        <p style="margin: 5px 0; font-size: 0.9rem; color: #666;"><strong>Usu√°rio:</strong> admin</p>
                        <p style="margin: 5px 0; font-size: 0.9rem; color: #666;"><strong>Senha:</strong> demo123</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.7); padding: 15px; border-radius: 8px;">
                        <p style="margin: 5px 0; font-size: 0.95rem; color: #555;"><strong>üìä Contador</strong></p>
                        <p style="margin: 5px 0; font-size: 0.9rem; color: #666;"><strong>Usu√°rio:</strong> contador</p>
                        <p style="margin: 5px 0; font-size: 0.9rem; color: #666;"><strong>Senha:</strong> contabil2024</p>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üè¢ Multi-Empresas</h3>
                    <div class="value">‚àû</div>
                    <div class="label">Empresas Ilimitadas</div>
                </div>
                <div class="dashboard-card">
                    <h3>üìä M√≥dulos Integrados</h3>
                    <div class="value">7</div>
                    <div class="label">M√≥dulos Completos</div>
                </div>
                <div class="dashboard-card">
                    <h3>‚òÅÔ∏è 100% Nuvem</h3>
                    <div class="value">24/7</div>
                    <div class="label">Acesso Total</div>
                </div>
                <div class="dashboard-card">
                    <h3>üîí Seguran√ßa</h3>
                    <div class="value">SSL</div>
                    <div class="label">Criptografia Completa</div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="showLoginModal()">
                    üöÄ Come√ßar Agora
                </button>
                <button class="btn btn-secondary" onclick="showSection('demo')">
                    üëÄ Ver Demonstra√ß√£o
                </button>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div class="content content-section" id="dashboardSection">
            <div class="section-title">
                üìä Dashboard Executivo
            </div>
            <div class="section-subtitle">
                Vis√£o geral da empresa atual - <span id="dashboardCompany">Nenhuma empresa selecionada</span>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üí∞ Receitas do M√™s</h3>
                    <div class="value">R$ 125.450</div>
                    <div class="label">+12,3% vs m√™s anterior</div>
                </div>
                <div class="dashboard-card">
                    <h3>üí∏ Despesas do M√™s</h3>
                    <div class="value">R$ 78.320</div>
                    <div class="label">+5,1% vs m√™s anterior</div>
                </div>
                <div class="dashboard-card">
                    <h3>üìà Lucro L√≠quido</h3>
                    <div class="value">R$ 47.130</div>
                    <div class="label">+18,7% vs m√™s anterior</div>
                </div>
                <div class="dashboard-card">
                    <h3>üè¶ Saldo em Caixa</h3>
                    <div class="value">R$ 234.890</div>
                    <div class="label">Posi√ß√£o atual</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <h4>üìä Receitas vs Despesas</h4>
                    <div class="chart-placeholder">Gr√°fico de Barras - Evolu√ß√£o Mensal</div>
                </div>
                <div class="chart-card">
                    <h4>ü•ß Distribui√ß√£o de Despesas</h4>
                    <div class="chart-placeholder">Gr√°fico de Pizza - Categorias</div>
                </div>
            </div>

            <div class="table-container">
                <h4>üìã √öltimos Lan√ßamentos</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Descri√ß√£o</th>
                            <th>Tipo</th>
                            <th>Valor</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>08/08/2024</td>
                            <td>Venda de Produtos</td>
                            <td>Receita</td>
                            <td>R$ 15.650,00</td>
                            <td><span class="status active">Confirmado</span></td>
                        </tr>
                        <tr>
                            <td>07/08/2024</td>
                            <td>Pagamento Fornecedor</td>
                            <td>Despesa</td>
                            <td>R$ 8.320,00</td>
                            <td><span class="status active">Pago</span></td>
                        </tr>
                        <tr>
                            <td>06/08/2024</td>
                            <td>Folha de Pagamento</td>
                            <td>Despesa</td>
                            <td>R$ 32.180,00</td>
                            <td><span class="status pending">Processando</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Cont√°bil Section -->
        <div class="content content-section" id="contabilSection">
            <div class="section-title">
                üìö M√≥dulo Cont√°bil
            </div>
            <div class="section-subtitle">
                Gest√£o completa de lan√ßamentos cont√°beis e plano de contas
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="showSubSection('lancamentos')">üìù Lan√ßamentos</button>
                <button class="btn btn-secondary" onclick="showSubSection('plano-contas')">üìã Plano de Contas</button>
                <button class="btn btn-secondary" onclick="showSubSection('livros')">üìñ Livros Fiscais</button>
                <button class="btn btn-secondary" onclick="showSubSection('conciliacao')">üè¶ Concilia√ß√£o</button>
            </div>

            <!-- Lan√ßamentos Subsection -->
            <div class="sub-section" id="lancamentos" style="display: block; margin-top: 30px;">
                <h3>üìù Lan√ßamentos Cont√°beis</h3>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="data-lancamento">Data do Lan√ßamento</label>
                        <input type="date" id="data-lancamento" class="form-control" value="2024-08-10">
                    </div>
                    <div class="form-group">
                        <label for="historico">Hist√≥rico</label>
                        <input type="text" id="historico" class="form-control" placeholder="Descri√ß√£o do lan√ßamento">
                    </div>
                </div>

                <div class="table-container">
                    <h4>Partidas Dobradas</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Conta</th>
                                <th>Hist√≥rico</th>
                                <th>D√©bito</th>
                                <th>Cr√©dito</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1.1.01.001 - Caixa</td>
                                <td>Recebimento de vendas</td>
                                <td>R$ 15.650,00</td>
                                <td>-</td>
                                <td><button class="btn btn-danger" style="padding: 5px 10px; font-size: 0.8rem;">üóëÔ∏è</button></td>
                            </tr>
                            <tr>
                                <td>3.1.01.001 - Receita de Vendas</td>
                                <td>Recebimento de vendas</td>
                                <td>-</td>
                                <td>R$ 15.650,00</td>
                                <td><button class="btn btn-danger" style="padding: 5px 10px; font-size: 0.8rem;">üóëÔ∏è</button></td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="margin-top: 10px; font-weight: 600;">
                        Total D√©bito: R$ 15.650,00 | Total Cr√©dito: R$ 15.650,00 
                        <span style="color: #28a745;">‚úÖ Balanceado</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn">üíæ Salvar Lan√ßamento</button>
                    <button class="btn btn-secondary">‚ûï Adicionar Conta</button>
                    <button class="btn btn-secondary">üßÆ Calcular</button>
                </div>
            </div>
        </div>

        <!-- Fiscal Section -->
        <div class="content content-section" id="fiscalSection">
            <div class="section-title">
                üèõÔ∏è M√≥dulo Fiscal
            </div>
            <div class="section-subtitle">
                Gest√£o de impostos e obriga√ß√µes acess√≥rias
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üìä ICMS a Recolher</h3>
                    <div class="value">R$ 12.450</div>
                    <div class="label">Vencimento: 15/08/2024</div>
                </div>
                <div class="dashboard-card">
                    <h3>üìã IPI a Recolher</h3>
                    <div class="value">R$ 3.280</div>
                    <div class="label">Vencimento: 20/08/2024</div>
                </div>
                <div class="dashboard-card">
                    <h3>üíº PIS/COFINS</h3>
                    <div class="value">R$ 8.150</div>
                    <div class="label">Vencimento: 25/08/2024</div>
                </div>
                <div class="dashboard-card">
                    <h3>üè¢ IRPJ/CSLL</h3>
                    <div class="value">R$ 15.670</div>
                    <div class="label">Trimestral</div>
                </div>
            </div>

            <div class="table-container">
                <h4>üìÖ Obriga√ß√µes Acess√≥rias</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Obriga√ß√£o</th>
                            <th>Per√≠odo</th>
                            <th>Vencimento</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>SPED Cont√°bil</td>
                            <td>07/2024</td>
                            <td>31/08/2024</td>
                            <td><span class="status pending">Pendente</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">üì§ Gerar</button></td>
                        </tr>
                        <tr>
                            <td>EFD-ICMS/IPI</td>
                            <td>07/2024</td>
                            <td>20/08/2024</td>
                            <td><span class="status active">Entregue</span></td>
                            <td><button class="btn btn-secondary" style="padding: 5px 10px; font-size: 0.8rem;">üëÅÔ∏è Ver</button></td>
                        </tr>
                        <tr>
                            <td>EFD-Contribui√ß√µes</td>
                            <td>07/2024</td>
                            <td>15/08/2024</td>
                            <td><span class="status active">Entregue</span></td>
                            <td><button class="btn btn-secondary" style="padding: 5px 10px; font-size: 0.8rem;">üëÅÔ∏è Ver</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="action-buttons">
                <button class="btn">üìä Apura√ß√£o de Impostos</button>
                <button class="btn btn-secondary">üì§ Gerar SPED</button>
                <button class="btn btn-secondary">üîç Consultar Receita Federal</button>
                <button class="btn btn-secondary">üìã Relat√≥rio de Impostos</button>
            </div>
        </div>

        <!-- Folha Section -->
        <div class="content content-section" id="folhaSection">
            <div class="section-title">
                üë• RH & Folha de Pagamento
            </div>
            <div class="section-subtitle">
                Gest√£o completa de recursos humanos e folha de pagamento
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üë®‚Äçüíº Total de Funcion√°rios</h3>
                    <div class="value">45</div>
                    <div class="label">Ativos na empresa</div>
                </div>
                <div class="dashboard-card">
                    <h3>üí∞ Folha do M√™s</h3>
                    <div class="value">R$ 128.450</div>
                    <div class="label">Agosto/2024</div>
                </div>
                <div class="dashboard-card">
                    <h3>üè• INSS Empresa</h3>
                    <div class="value">R$ 25.690</div>
                    <div class="label">Contribui√ß√£o patronal</div>
                </div>
                <div class="dashboard-card">
                    <h3>üíº FGTS</h3>
                    <div class="value">R$ 10.276</div>
                    <div class="label">8% sobre sal√°rios</div>
                </div>
            </div>

            <div class="table-container">
                <h4>üìã Lista de Funcion√°rios</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Cargo</th>
                            <th>Sal√°rio</th>
                            <th>Admiss√£o</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Jo√£o Silva Santos</td>
                            <td>Contador</td>
                            <td>R$ 5.500,00</td>
                            <td>15/01/2020</td>
                            <td><span class="status active">Ativo</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                        <tr>
                            <td>Maria Oliveira</td>
                            <td>Auxiliar Cont√°bil</td>
                            <td>R$ 2.800,00</td>
                            <td>03/06/2021</td>
                            <td><span class="status active">Ativo</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                        <tr>
                            <td>Carlos Pereira</td>
                            <td>Analista Fiscal</td>
                            <td>R$ 4.200,00</td>
                            <td>12/03/2019</td>
                            <td><span class="status pending">F√©rias</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="action-buttons">
                <button class="btn">üë®‚Äçüíº Cadastrar Funcion√°rio</button>
                <button class="btn btn-secondary">üí∞ Processar Folha</button>
                <button class="btn btn-secondary">üìä eSocial</button>
                <button class="btn btn-secondary">üìã Relat√≥rios RH</button>
                <button class="btn btn-secondary">üèñÔ∏è Gest√£o de F√©rias</button>
            </div>
        </div>

        <!-- Relat√≥rios Section -->
        <div class="content content-section" id="relatoriosSection">
            <div class="section-title">
                üìà Relat√≥rios e An√°lises
            </div>
            <div class="section-subtitle">
                Relat√≥rios gerenciais e an√°lises financeiras
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label for="periodo-inicio">Per√≠odo - In√≠cio</label>
                    <input type="date" id="periodo-inicio" class="form-control" value="2024-08-01">
                </div>
                <div class="form-group">
                    <label for="periodo-fim">Per√≠odo - Fim</label>
                    <input type="date" id="periodo-fim" class="form-control" value="2024-08-31">
                </div>
                <div class="form-group">
                    <label for="tipo-relatorio">Tipo de Relat√≥rio</label>
                    <select id="tipo-relatorio" class="form-control">
                        <option>DRE - Demonstra√ß√£o do Resultado</option>
                        <option>Balan√ßo Patrimonial</option>
                        <option>Fluxo de Caixa</option>
                        <option>Balancete de Verifica√ß√£o</option>
                        <option>Livro Raz√£o</option>
                        <option>Livro Di√°rio</option>
                    </select>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <h4>üìä DRE - Demonstra√ß√£o do Resultado</h4>
                    <div class="table-container">
                        <table class="data-table">
                            <tbody>
                                <tr><td><strong>RECEITA BRUTA</strong></td><td><strong>R$ 125.450,00</strong></td></tr>
                                <tr><td>(-) Dedu√ß√µes</td><td>R$ (15.654,00)</td></tr>
                                <tr><td><strong>RECEITA L√çQUIDA</strong></td><td><strong>R$ 109.796,00</strong></td></tr>
                                <tr><td>(-) Custos dos Produtos Vendidos</td><td>R$ (35.280,00)</td></tr>
                                <tr><td><strong>LUCRO BRUTO</strong></td><td><strong>R$ 74.516,00</strong></td></tr>
                                <tr><td>(-) Despesas Operacionais</td><td>R$ (27.386,00)</td></tr>
                                <tr><td><strong>LUCRO L√çQUIDO</strong></td><td style="color: #28a745;"><strong>R$ 47.130,00</strong></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="chart-card">
                    <h4>üè¶ Balan√ßo Patrimonial</h4>
                    <div class="table-container">
                        <table class="data-table">
                            <tbody>
                                <tr><td colspan="2"><strong>ATIVO</strong></td></tr>
                                <tr><td>Ativo Circulante</td><td>R$ 285.640,00</td></tr>
                                <tr><td>Ativo N√£o Circulante</td><td>R$ 456.780,00</td></tr>
                                <tr><td><strong>TOTAL ATIVO</strong></td><td><strong>R$ 742.420,00</strong></td></tr>
                                <tr><td colspan="2"><strong>PASSIVO</strong></td></tr>
                                <tr><td>Passivo Circulante</td><td>R$ 125.680,00</td></tr>
                                <tr><td>Passivo N√£o Circulante</td><td>R$ 234.560,00</td></tr>
                                <tr><td>Patrim√¥nio L√≠quido</td><td>R$ 382.180,00</td></tr>
                                <tr><td><strong>TOTAL PASSIVO</strong></td><td><strong>R$ 742.420,00</strong></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn">üìä Gerar Relat√≥rio</button>
                <button class="btn btn-secondary">üíæ Salvar Modelo</button>
                <button class="btn btn-secondary">üì§ Exportar PDF</button>
                <button class="btn btn-secondary">üìß Enviar por Email</button>
            </div>
        </div>

        <!-- Configura√ß√µes Section -->
        <div class="content content-section" id="configuracoesSection">
            <div class="section-title">
                ‚öôÔ∏è Configura√ß√µes do Sistema
            </div>
            <div class="section-subtitle">
                Personalize o sistema de acordo com suas necessidades
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label for="nome-sistema">Nome do Sistema</label>
                    <input type="text" id="nome-sistema" class="form-control" value="Cont√°bilPro">
                </div>
                <div class="form-group">
                    <label for="tema-sistema">Tema do Sistema</label>
                    <select id="tema-sistema" class="form-control">
                        <option>Padr√£o (Azul)</option>
                        <option>Verde</option>
                        <option>Roxo</option>
                        <option>Escuro</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="moeda-padrao">Moeda Padr√£o</label>
                    <select id="moeda-padrao" class="form-control">
                        <option>Real (R$)</option>
                        <option>D√≥lar (US$)</option>
                        <option>Euro (‚Ç¨)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="fuso-horario">Fuso Hor√°rio</label>
                    <select id="fuso-horario" class="form-control">
                        <option>Bras√≠lia (UTC-3)</option>
                        <option>S√£o Paulo (UTC-3)</option>
                        <option>Manaus (UTC-4)</option>
                    </select>
                </div>
            </div>

            <div class="table-container">
                <h4>üë• Usu√°rios do Sistema</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>Perfil</th>
                            <th>√öltimo Acesso</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Admin Sistema</td>
                            <td>admin@contabilpro.com</td>
                            <td>Administrador</td>
                            <td>10/08/2024 14:30</td>
                            <td><span class="status active">Ativo</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                        <tr>
                            <td>Jo√£o Contador</td>
                            <td>joao@empresa.com</td>
                            <td>Contador</td>
                            <td>10/08/2024 09:15</td>
                            <td><span class="status active">Ativo</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                        <tr>
                            <td>Maria Auxiliar</td>
                            <td>maria@empresa.com</td>
                            <td>Auxiliar</td>
                            <td>09/08/2024 16:45</td>
                            <td><span class="status pending">Inativo</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="action-buttons">
                <button class="btn">üíæ Salvar Configura√ß√µes</button>
                <button class="btn btn-secondary">üë§ Gerenciar Usu√°rios</button>
                <button class="btn btn-secondary">üîê Alterar Senha</button>
                <button class="btn btn-secondary">üìä Backup Sistema</button>
                <button class="btn btn-secondary">üîÑ Restaurar Sistema</button>
            </div>
        </div>

        <!-- Multi-Empresas Section -->
        <div class="content content-section" id="multi-empresasSection">
            <div class="section-title">
                üè¢ Gest√£o Multi-Empresas
            </div>
            <div class="section-subtitle">
                Cadastre e gerencie m√∫ltiplas empresas em uma √∫nica conta
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üè¢ Total de Empresas</h3>
                    <div class="value">7</div>
                    <div class="label">Empresas cadastradas</div>
                </div>
                <div class="dashboard-card">
                    <h3>‚úÖ Empresas Ativas</h3>
                    <div class="value">5</div>
                    <div class="label">Em opera√ß√£o</div>
                </div>
                <div class="dashboard-card">
                    <h3>‚ö†Ô∏è Pend√™ncias</h3>
                    <div class="value">2</div>
                    <div class="label">Requerem aten√ß√£o</div>
                </div>
                <div class="dashboard-card">
                    <h3>üìä Faturamento Total</h3>
                    <div class="value">R$ 1.2M</div>
                    <div class="label">Todas as empresas</div>
                </div>
            </div>

            <div class="table-container">
                <h4>üè¢ Lista de Empresas</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Empresa</th>
                            <th>CNPJ</th>
                            <th>Regime Tribut√°rio</th>
                            <th>Faturamento Mensal</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="company-info">
                                    <span class="company-name">Empresa ABC Ltda</span>
                                </div>
                            </td>
                            <td>12.345.678/0001-90</td>
                            <td>Lucro Presumido</td>
                            <td>R$ 125.450,00</td>
                            <td><span class="status active">Ativa</span></td>
                            <td>
                                <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;" onclick="selectCompany('ABC Ltda', '12.345.678/0001-90')">üéØ Selecionar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="company-info">
                                    <span class="company-name">Tech Solutions S.A.</span>
                                </div>
                            </td>
                            <td>23.456.789/0001-01</td>
                            <td>Lucro Real</td>
                            <td>R$ 285.670,00</td>
                            <td><span class="status active">Ativa</span></td>
                            <td>
                                <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;" onclick="selectCompany('Tech Solutions S.A.', '23.456.789/0001-01')">üéØ Selecionar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="company-info">
                                    <span class="company-name">Com√©rcio XYZ ME</span>
                                </div>
                            </td>
                            <td>34.567.890/0001-12</td>
                            <td>Simples Nacional</td>
                            <td>R$ 45.280,00</td>
                            <td><span class="status pending">Pendente</span></td>
                            <td>
                                <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;" onclick="selectCompany('Com√©rcio XYZ ME', '34.567.890/0001-12')">üéØ Selecionar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="company-info">
                                    <span class="company-name">Ind√∫stria DEF Ltda</span>
                                </div>
                            </td>
                            <td>45.678.901/0001-23</td>
                            <td>Lucro Presumido</td>
                            <td>R$ 198.340,00</td>
                            <td><span class="status active">Ativa</span></td>
                            <td>
                                <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;" onclick="selectCompany('Ind√∫stria DEF Ltda', '45.678.901/0001-23')">üéØ Selecionar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="company-info">
                                    <span class="company-name">Prestadora GHI Eireli</span>
                                </div>
                            </td>
                            <td>56.789.012/0001-34</td>
                            <td>Lucro Presumido</td>
                            <td>R$ 87.650,00</td>
                            <td><span class="status active">Ativa</span></td>
                            <td>
                                <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;" onclick="selectCompany('Prestadora GHI Eireli', '56.789.012/0001-34')">üéØ Selecionar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="action-buttons">
                <button class="btn">üè¢ Cadastrar Nova Empresa</button>
                <button class="btn btn-secondary">üìä Relat√≥rio Consolidado</button>
                <button class="btn btn-secondary">üîÑ Sincronizar Dados</button>
                <button class="btn btn-secondary">üì§ Exportar Lista</button>
            </div>
        </div>

        <!-- ============ SE√á√ïES M√ìDULO CONT√ÅBIL ============ -->
        
        <!-- Lan√ßamentos Section -->
        <div class="content content-section" id="lancamentosSection" style="display: none;">
            <div class="section-title">üìù Lan√ßamentos Cont√°beis</div>
            <div class="section-subtitle">Registre lan√ßamentos cont√°beis com partidas dobradas</div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="data-lancamento">Data</label>
                    <input type="date" id="data-lancamento" class="form-control">
                </div>
                <div class="form-group">
                    <label for="historico-lancamento">Hist√≥rico</label>
                    <input type="text" id="historico-lancamento" class="form-control" placeholder="Ex: Venda de produtos">
                </div>
                <div class="form-group">
                    <label for="conta-debito">Conta D√©bito</label>
                    <select id="conta-debito" class="form-control">
                        <option>1.1.01 - Caixa</option>
                        <option>1.1.02 - Bancos</option>
                        <option>1.2.01 - Duplicatas a Receber</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="conta-credito">Conta Cr√©dito</label>
                    <select id="conta-credito" class="form-control">
                        <option>3.1.01 - Vendas de Produtos</option>
                        <option>3.1.02 - Presta√ß√£o de Servi√ßos</option>
                        <option>2.1.01 - Fornecedores</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="valor-lancamento">Valor</label>
                    <input type="number" id="valor-lancamento" class="form-control" placeholder="0,00" step="0.01">
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üíæ Registrar Lan√ßamento</button>
                <button class="btn btn-secondary">üîç Consultar Lan√ßamentos</button>
                <button class="btn btn-secondary">üìä Relat√≥rio de Lan√ßamentos</button>
            </div>
        </div>

        <!-- Plano de Contas Section -->
        <div class="content content-section" id="plano-contasSection" style="display: none;">
            <div class="section-title">üìã Plano de Contas</div>
            <div class="section-subtitle">Gerencie a estrutura cont√°bil da empresa</div>
            
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>C√≥digo</th>
                            <th>Conta</th>
                            <th>Tipo</th>
                            <th>Saldo</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1.1.01</td>
                            <td>Caixa</td>
                            <td>Ativo Circulante</td>
                            <td>R$ 15.450,00</td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                        <tr>
                            <td>1.1.02</td>
                            <td>Bancos</td>
                            <td>Ativo Circulante</td>
                            <td>R$ 125.890,00</td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                        <tr>
                            <td>3.1.01</td>
                            <td>Vendas de Produtos</td>
                            <td>Receita</td>
                            <td>R$ 285.670,00</td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è Editar</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="action-buttons">
                <button class="btn">‚ûï Nova Conta</button>
                <button class="btn btn-secondary">üì§ Exportar Plano</button>
                <button class="btn btn-secondary">üì• Importar Plano</button>
            </div>
        </div>

        <!-- Livro Di√°rio Section -->
        <div class="content content-section" id="livro-diarioSection" style="display: none;">
            <div class="section-title">üìñ Livro Di√°rio</div>
            <div class="section-subtitle">Registro cronol√≥gico de todos os lan√ßamentos</div>
            
            <div class="form-row" style="margin-bottom: 20px;">
                <div class="form-group">
                    <label for="periodo-diario">Per√≠odo</label>
                    <input type="month" id="periodo-diario" class="form-control">
                </div>
                <div class="form-group">
                    <label for="empresa-diario">Empresa</label>
                    <select id="empresa-diario" class="form-control">
                        <option>Empresa ABC Ltda</option>
                        <option>Tech Solutions S.A.</option>
                    </select>
                </div>
            </div>
            
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Hist√≥rico</th>
                            <th>Conta D√©bito</th>
                            <th>Conta Cr√©dito</th>
                            <th>Valor</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>10/08/2024</td>
                            <td>Venda de produtos √† vista</td>
                            <td>1.1.01 - Caixa</td>
                            <td>3.1.01 - Vendas</td>
                            <td>R$ 2.500,00</td>
                        </tr>
                        <tr>
                            <td>10/08/2024</td>
                            <td>Pagamento de fornecedor</td>
                            <td>2.1.01 - Fornecedores</td>
                            <td>1.1.02 - Bancos</td>
                            <td>R$ 1.800,00</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üîç Filtrar Por Data</button>
                <button class="btn btn-secondary">üìä Gerar Relat√≥rio</button>
                <button class="btn btn-secondary">üì§ Exportar PDF</button>
            </div>
        </div>

        <!-- ============ SE√á√ïES M√ìDULO FISCAL ============ -->

        <!-- Apura√ß√£o de Impostos Section -->
        <div class="content content-section" id="apuracao-impostosSection" style="display: none;">
            <div class="section-title">üí∞ Apura√ß√£o de Impostos</div>
            <div class="section-subtitle">Calcule e apure impostos federais, estaduais e municipais</div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üìä ICMS</h3>
                    <div class="value">R$ 15.680,00</div>
                    <div class="label">A recolher este m√™s</div>
                </div>
                <div class="dashboard-card">
                    <h3>üèõÔ∏è PIS/COFINS</h3>
                    <div class="value">R$ 8.450,00</div>
                    <div class="label">A recolher este m√™s</div>
                </div>
                <div class="dashboard-card">
                    <h3>üíº IPI</h3>
                    <div class="value">R$ 3.220,00</div>
                    <div class="label">A recolher este m√™s</div>
                </div>
                <div class="dashboard-card">
                    <h3>üè¢ IRPJ/CSLL</h3>
                    <div class="value">R$ 12.890,00</div>
                    <div class="label">A recolher este m√™s</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üîÑ Processar Apura√ß√£o</button>
                <button class="btn btn-secondary">üìã Gerar DARF</button>
                <button class="btn btn-secondary">üìä Relat√≥rio Detalhado</button>
            </div>
        </div>

        <!-- SPED Fiscal Section -->
        <div class="content content-section" id="sped-fiscalSection" style="display: none;">
            <div class="section-title">üìÑ SPED Fiscal</div>
            <div class="section-subtitle">Sistema P√∫blico de Escritura√ß√£o Digital - EFD</div>
            
            <div class="form-row" style="margin-bottom: 20px;">
                <div class="form-group">
                    <label for="periodo-sped">Per√≠odo de Apura√ß√£o</label>
                    <input type="month" id="periodo-sped" class="form-control">
                </div>
                <div class="form-group">
                    <label for="versao-sped">Vers√£o do Layout</label>
                    <select id="versao-sped" class="form-control">
                        <option>Vers√£o 018 (2024)</option>
                        <option>Vers√£o 017 (2023)</option>
                    </select>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üìä Status</h3>
                    <div class="value">Em processamento</div>
                    <div class="label">Arquivo atual</div>
                </div>
                <div class="dashboard-card">
                    <h3>üìã Registros</h3>
                    <div class="value">2.456</div>
                    <div class="label">Total de registros</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üîÑ Gerar SPED</button>
                <button class="btn btn-secondary">‚úÖ Validar Arquivo</button>
                <button class="btn btn-secondary">üì§ Transmitir</button>
                <button class="btn btn-secondary">üìã Log de Processamento</button>
            </div>
        </div>

        <!-- ============ SE√á√ïES RH & FOLHA ============ -->

        <!-- Funcion√°rios Section -->
        <div class="content content-section" id="funcionariosSection" style="display: none;">
            <div class="section-title">üë§ Gest√£o de Funcion√°rios</div>
            <div class="section-subtitle">Cadastro e controle de colaboradores</div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üë• Total</h3>
                    <div class="value">42</div>
                    <div class="label">Funcion√°rios ativos</div>
                </div>
                <div class="dashboard-card">
                    <h3>üìÖ Admiss√µes</h3>
                    <div class="value">3</div>
                    <div class="label">Este m√™s</div>
                </div>
                <div class="dashboard-card">
                    <h3>üì§ Desligamentos</h3>
                    <div class="value">1</div>
                    <div class="label">Este m√™s</div>
                </div>
            </div>
            
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Cargo</th>
                            <th>Sal√°rio</th>
                            <th>Admiss√£o</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Jo√£o Silva Santos</td>
                            <td>Analista Cont√°bil</td>
                            <td>R$ 4.500,00</td>
                            <td>15/03/2023</td>
                            <td><span class="status active">Ativo</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">üëÅÔ∏è Ver</button></td>
                        </tr>
                        <tr>
                            <td>Maria Oliveira Costa</td>
                            <td>Assistente Fiscal</td>
                            <td>R$ 3.200,00</td>
                            <td>22/08/2022</td>
                            <td><span class="status active">Ativo</span></td>
                            <td><button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">üëÅÔ∏è Ver</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üë§ Cadastrar Funcion√°rio</button>
                <button class="btn btn-secondary">üìã Relat√≥rio de Funcion√°rios</button>
                <button class="btn btn-secondary">üîÑ Sincronizar eSocial</button>
            </div>
        </div>

        <!-- Folha de Pagamento Section -->
        <div class="content content-section" id="folha-pagamentoSection" style="display: none;">
            <div class="section-title">üíµ Folha de Pagamento</div>
            <div class="section-subtitle">Processamento mensal da folha</div>
            
            <div class="form-row" style="margin-bottom: 20px;">
                <div class="form-group">
                    <label for="periodo-folha">Per√≠odo de Compet√™ncia</label>
                    <input type="month" id="periodo-folha" class="form-control">
                </div>
                <div class="form-group">
                    <label for="status-folha">Status do Processamento</label>
                    <select id="status-folha" class="form-control">
                        <option>Em processamento</option>
                        <option>Processada</option>
                        <option>Finalizada</option>
                    </select>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üí∞ Total Bruto</h3>
                    <div class="value">R$ 189.450,00</div>
                    <div class="label">Sal√°rios + benef√≠cios</div>
                </div>
                <div class="dashboard-card">
                    <h3>üìâ Descontos</h3>
                    <div class="value">R$ 45.680,00</div>
                    <div class="label">INSS + IR + outros</div>
                </div>
                <div class="dashboard-card">
                    <h3>üíµ Total L√≠quido</h3>
                    <div class="value">R$ 143.770,00</div>
                    <div class="label">A pagar aos funcion√°rios</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üîÑ Processar Folha</button>
                <button class="btn btn-secondary">üìã Gerar Recibos</button>
                <button class="btn btn-secondary">üè¶ Arquivo Banc√°rio</button>
                <button class="btn btn-secondary">üìä Relat√≥rio Anal√≠tico</button>
            </div>
        </div>

        <!-- ============ SE√á√ïES RELAT√ìRIOS ============ -->

        <!-- DRE Section -->
        <div class="content content-section" id="dreSection" style="display: none;">
            <div class="section-title">üìä Demonstra√ß√£o do Resultado (DRE)</div>
            <div class="section-subtitle">Resultado econ√¥mico do per√≠odo</div>
            
            <div class="form-row" style="margin-bottom: 20px;">
                <div class="form-group">
                    <label for="periodo-dre">Per√≠odo</label>
                    <input type="month" id="periodo-dre" class="form-control">
                </div>
                <div class="form-group">
                    <label for="tipo-dre">Tipo de Demonstra√ß√£o</label>
                    <select id="tipo-dre" class="form-control">
                        <option>DRE Gerencial</option>
                        <option>DRE Legal</option>
                        <option>DRE Comparativa</option>
                    </select>
                </div>
            </div>
            
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Conta</th>
                            <th>Valor (R$)</th>
                            <th>% Receita</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td><strong>RECEITA BRUTA</strong></td><td><strong>R$ 450.000,00</strong></td><td><strong>100,0%</strong></td></tr>
                        <tr><td>(-) Impostos sobre Vendas</td><td>R$ 67.500,00</td><td>15,0%</td></tr>
                        <tr><td>(-) Devolu√ß√µes e Abatimentos</td><td>R$ 4.500,00</td><td>1,0%</td></tr>
                        <tr><td><strong>RECEITA L√çQUIDA</strong></td><td><strong>R$ 378.000,00</strong></td><td><strong>84,0%</strong></td></tr>
                        <tr><td>(-) Custo dos Produtos Vendidos</td><td>R$ 189.000,00</td><td>42,0%</td></tr>
                        <tr><td><strong>LUCRO BRUTO</strong></td><td><strong>R$ 189.000,00</strong></td><td><strong>42,0%</strong></td></tr>
                        <tr><td>(-) Despesas Operacionais</td><td>R$ 94.500,00</td><td>21,0%</td></tr>
                        <tr><td><strong>LUCRO L√çQUIDO</strong></td><td><strong>R$ 94.500,00</strong></td><td><strong>21,0%</strong></td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üîÑ Atualizar DRE</button>
                <button class="btn btn-secondary">üìä Gr√°fico Visual</button>
                <button class="btn btn-secondary">üì§ Exportar PDF</button>
                <button class="btn btn-secondary">üìß Enviar por Email</button>
            </div>
        </div>

        <!-- ============ SE√á√ïES CONFIGURA√á√ïES ============ -->

        <!-- Configura√ß√µes Empresa Section -->
        <div class="content content-section" id="config-empresaSection" style="display: none;">
            <div class="section-title">üè¢ Configura√ß√µes da Empresa</div>
            <div class="section-subtitle">Dados cadastrais e informa√ß√µes da empresa</div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="razao-social">Raz√£o Social</label>
                    <input type="text" id="razao-social" class="form-control" value="Empresa ABC Ltda">
                </div>
                <div class="form-group">
                    <label for="nome-fantasia">Nome Fantasia</label>
                    <input type="text" id="nome-fantasia" class="form-control" value="ABC Com√©rcio">
                </div>
                <div class="form-group">
                    <label for="cnpj">CNPJ</label>
                    <input type="text" id="cnpj" class="form-control" value="12.345.678/0001-90">
                </div>
                <div class="form-group">
                    <label for="inscricao-estadual">Inscri√ß√£o Estadual</label>
                    <input type="text" id="inscricao-estadual" class="form-control" value="123.456.789.012">
                </div>
                <div class="form-group">
                    <label for="regime-tributario">Regime Tribut√°rio</label>
                    <select id="regime-tributario" class="form-control">
                        <option>Simples Nacional</option>
                        <option selected>Lucro Presumido</option>
                        <option>Lucro Real</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="endereco">Endere√ßo</label>
                    <input type="text" id="endereco" class="form-control" value="Rua das Empresas, 123">
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn">üíæ Salvar Configura√ß√µes</button>
                <button class="btn btn-secondary">üìÑ Gerar Certificado</button>
                <button class="btn btn-secondary">üîÑ Sincronizar Receita</button>
            </div>
        </div>
    </div>

    <script>
        // Global State
        let isLoggedIn = false;
        let currentUser = '';
        let currentUserProfile = '';
        let currentCompany = '';
        let companies = [
            {
                name: 'Empresa ABC Ltda',
                cnpj: '12.345.678/0001-90',
                active: true
            },
            {
                name: 'Tech Solutions S.A.',
                cnpj: '23.456.789/0001-01',
                active: true
            },
            {
                name: 'Com√©rcio XYZ ME',
                cnpj: '34.567.890/0001-12',
                active: false
            },
            {
                name: 'Ind√∫stria DEF Ltda',
                cnpj: '45.678.901/0001-23',
                active: true
            },
            {
                name: 'Prestadora GHI Eireli',
                cnpj: '56.789.012/0001-34',
                active: true
            }
        ];

        // Login Modal Functions
        function showLoginModal() {
            document.getElementById('loginModal').classList.add('active');
        }

        function demoQuickAccess() {
            // Auto login with admin credentials for demo
            isLoggedIn = true;
            currentUser = 'admin';
            currentUserProfile = 'Administrador';
            
            // Update UI
            document.getElementById('loginBtn').style.display = 'none';
            document.getElementById('logoutBtn').style.display = 'inline-block';
            document.getElementById('userInfo').style.display = 'flex';
            document.getElementById('userName').textContent = 'Admin (Demo)';
            document.getElementById('companySelector').style.display = 'block';
            document.getElementById('navMenu').style.display = 'flex';
            
            // Hide welcome section and show dashboard
            document.getElementById('welcomeSection').style.display = 'none';
            showSection('dashboard');
            
            // Populate companies dropdown
            populateCompaniesDropdown();
            
            // Show success message
            setTimeout(() => {
                alert('üéâ Demo iniciado com sucesso! Explore todas as funcionalidades do Cont√°bilPro!');
            }, 300);
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Validate demo credentials
            const validCredentials = [
                { user: 'admin', pass: 'demo123', profile: 'Administrador' },
                { user: 'contador', pass: 'contabil2024', profile: 'Contador' }
            ];

            const validUser = validCredentials.find(cred => 
                cred.user === username && cred.pass === password
            );

            if (validUser) {
                isLoggedIn = true;
                currentUser = username;
                currentUserProfile = validUser.profile;
                
                // Update UI
                document.getElementById('loginBtn').style.display = 'none';
                document.getElementById('logoutBtn').style.display = 'inline-block';
                document.getElementById('userInfo').style.display = 'flex';
                document.getElementById('userName').textContent = username;
                document.getElementById('companySelector').style.display = 'block';
                document.getElementById('navMenu').style.display = 'flex';
                
                // Hide welcome section and show dashboard
                document.getElementById('welcomeSection').style.display = 'none';
                showSection('dashboard');
                
                // Populate companies dropdown
                populateCompaniesDropdown();
                
                // Close modal
                closeLoginModal();
                
                // Clear form
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';

                // Show success message
                setTimeout(() => {
                    alert('üéâ Login realizado com sucesso! Bem-vindo ao Cont√°bilPro!');
                }, 300);
            } else {
                alert('‚ùå Credenciais inv√°lidas! Use: admin/demo123 ou contador/contabil2024');
            }
        }

        function handleLogout() {
            if (confirm('Tem certeza que deseja sair do sistema?')) {
                isLoggedIn = false;
                currentUser = '';
                currentCompany = '';
                
                // Reset UI
                document.getElementById('loginBtn').style.display = 'inline-block';
                document.getElementById('logoutBtn').style.display = 'none';
                document.getElementById('userInfo').style.display = 'none';
                document.getElementById('companySelector').style.display = 'none';
                document.getElementById('navMenu').style.display = 'none';
                
                // Hide all sections and show welcome
                document.querySelectorAll('.content-section').forEach(section => {
                    section.style.display = 'none';
                });
                document.getElementById('welcomeSection').style.display = 'block';
                
                // Reset company selector
                document.getElementById('currentCompany').textContent = 'Selecionar Empresa';
                document.getElementById('companySelector').classList.remove('active');
                
                alert('‚úÖ Logout realizado com sucesso!');
            }
        }

        // Company Management
        function populateCompaniesDropdown() {
            const dropdown = document.getElementById('companyDropdown');
            dropdown.innerHTML = '';
            
            companies.forEach((company, index) => {
                const item = document.createElement('button');
                item.className = 'company-dropdown-item';
                item.innerHTML = `
                    <div class="company-info">
                        <span class="company-name">${company.name}</span>
                        <span class="company-cnpj">${company.cnpj}</span>
                    </div>
                `;
                item.onclick = () => selectCompany(company.name, company.cnpj);
                dropdown.appendChild(item);
            });
        }

        function toggleCompanyDropdown() {
            document.getElementById('companySelector').classList.toggle('active');
        }

        function selectCompany(name, cnpj) {
            currentCompany = name;
            document.getElementById('currentCompany').textContent = name;
            document.getElementById('companySelector').classList.remove('active');
            
            // Update dashboard company display
            document.getElementById('dashboardCompany').textContent = `${name} (${cnpj})`;
            
            // Update all dropdown items
            document.querySelectorAll('.company-dropdown-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Mark selected item as active
            event.target.closest('.company-dropdown-item').classList.add('active');
            
            // Show notification
            setTimeout(() => {
                alert(`üè¢ Empresa selecionada: ${name}\nCNPJ: ${cnpj}`);
            }, 200);
        }

        // Navigation Functions
        function showSection(sectionName) {
            if (!isLoggedIn && sectionName !== 'demo') {
                showLoginModal();
                return;
            }

            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Hide welcome section
            document.getElementById('welcomeSection').style.display = 'none';
            
            // Show selected section
            const targetSection = document.getElementById(sectionName + 'Section');
            if (targetSection) {
                targetSection.style.display = 'block';
                targetSection.classList.add('fade-in');
            }
            
            // Update navigation active state
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Find and activate the corresponding nav item
            const activeNavItem = Array.from(document.querySelectorAll('.nav-item')).find(item => {
                return item.onclick.toString().includes(`'${sectionName}'`);
            });
            
            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }
        }

        function showSubSection(subSectionName) {
            // This would handle sub-sections within main sections
            document.querySelectorAll('.sub-section').forEach(section => {
                section.style.display = 'none';
            });
            
            const targetSubSection = document.getElementById(subSectionName);
            if (targetSubSection) {
                targetSubSection.style.display = 'block';
            }
        }

        // Mobile Menu
        function toggleMobileMenu() {
            document.getElementById('navMenu').classList.toggle('active');
        }

        // Demo section for non-logged users
        function showDemo() {
            alert('üé¨ Esta √© uma demonstra√ß√£o do sistema!\n\nFuncionalidades dispon√≠veis:\n‚Ä¢ Dashboard com gr√°ficos\n‚Ä¢ M√≥dulos Cont√°bil, Fiscal e RH\n‚Ä¢ Gest√£o Multi-empresas\n‚Ä¢ Relat√≥rios avan√ßados\n\nFa√ßa login para ter acesso completo!');
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            const companySelector = document.getElementById('companySelector');
            if (!companySelector.contains(event.target)) {
                companySelector.classList.remove('active');
            }
            
            const navMenu = document.getElementById('navMenu');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            if (!navMenu.contains(event.target) && event.target !== mobileToggle) {
                navMenu.classList.remove('active');
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeLoginModal();
            }
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Cont√°bilPro Sistema Iniciado!');
            
            // Add some animation delays for better UX
            setTimeout(() => {
                document.querySelectorAll('.dashboard-card').forEach((card, index) => {
                    card.style.animationDelay = `${index * 0.1}s`;
                    card.classList.add('fade-in');
                });
            }, 500);

            // Mobile dropdown functionality
            if (window.innerWidth <= 768) {
                document.querySelectorAll('.nav-dropdown .nav-item').forEach(dropdownToggle => {
                    dropdownToggle.addEventListener('click', function(e) {
                        e.preventDefault();
                        const dropdown = this.parentElement;
                        const menu = dropdown.querySelector('.dropdown-menu');
                        
                        // Close other dropdowns
                        document.querySelectorAll('.nav-dropdown').forEach(other => {
                            if (other !== dropdown) {
                                other.querySelector('.dropdown-menu').style.maxHeight = '0px';
                            }
                        });
                        
                        // Toggle current dropdown
                        if (menu.style.maxHeight === '300px') {
                            menu.style.maxHeight = '0px';
                        } else {
                            menu.style.maxHeight = '300px';
                        }
                    });
                });
            }
        });

        // Utility Functions
        function formatCurrency(value) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(value);
        }

        function formatDate(date) {
            return new Intl.DateTimeFormat('pt-BR').format(new Date(date));
        }

        // Simulated data updates (would come from server in real app)
        function updateDashboardData() {
            // This would typically fetch real data from an API
            console.log('üìä Atualizando dados do dashboard...');
        }

        // Auto-update dashboard every 5 minutes
        setInterval(updateDashboardData, 5 * 60 * 1000);

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey) {
                switch(event.key) {
                    case '1':
                        event.preventDefault();
                        showSection('dashboard');
                        break;
                    case '2':
                        event.preventDefault();
                        showSection('contabil');
                        break;
                    case '3':
                        event.preventDefault();
                        showSection('fiscal');
                        break;
                    case '4':
                        event.preventDefault();
                        showSection('folha');
                        break;
                    case '5':
                        event.preventDefault();
                        showSection('relatorios');
                        break;
                }
            }
        });

        // Performance monitoring
        window.addEventListener('load', function() {
            console.log(`‚ö° P√°gina carregada em ${Math.round(performance.now())}ms`);
        });
    </script>
</body>
</html>